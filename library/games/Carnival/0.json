{
  "_meta": {
    "version": 15,
    "info": {
      "name": "Carnival",
      "image": "/assets/-1752027825_70181",
      "rules": "https://boardgamegeek.com/filepage/53921/parade-rules-english",
      "bgg": "https://boardgamegeek.com/boardgame/56692/parade",
      "year": "2007",
      "mode": "vs",
      "time": "45",
      "attribution": "The game design and all game board elements are by RaphaelAlvez (tweaked by ArnoldSmith86 and LawDawg96) and are released to the Public Domain by CC0.\n<br><div>Images were generated by Midjourney using the following prompts:\n<ul><li>Library image: carnival parade, water color, hand drawing, colorful</li><li><span style=\"color: var(--overlayFontColor);\">Card backs: confetti, water color, hand draw, --ar 2:3</span></li></ul><div>Card fronts:</div><ul><li><span style=\"color: var(--overlayFontColor);\">Purple carnival costume, water color, hand draw, --ar 2:3</span><br></li><li>black carnival costume, water color, hand draw, --ar 2:3</li><li>yellow carnival costume, water color, hand draw, --ar 2:3</li><li>green carnival costume, water color, hand draw, --ar 2:3</li><li>red masculine brazilian carnival costume, water color, hand draw, --ar 2:3</li><li>blue brazilan carnival costume, water color, hand draw, --ar 2:3</li></ul></div>",
      "showName": true,
      "skill": "",
      "description": "Players need to take turns playing cards into the line while avoiding taking cards into their hands. Sometimes getting all the cards can be rewarding!",
      "similarImage": "",
      "similarName": "Parade",
      "similarAwards": "2015 As d'Or - Jeu de l'Année Nominee\n2014 Fairplay À la carte Runner-up",
      "ruleText": "<h4><span style=\"color: var(--overlayFontColor);\">Rounds and actions</span><br></h4><div><span style=\"color: var(--overlayFontColor);\">Players need to play a card at the end of the card line (right side of the line).</span><br></div><div>The value in the card played blocks equals the number of safe cards in front of the played card.</div><div><br></div><div>The player needs to take all unsafe cards that are equal or lower value than the played card and all unsafe cards that are of the same color as the played card.</div><div><br></div><div>Example:</div><div>\nIf the player plays a Yellow-4 card they count 4 cards from the end (right side) of the line. Those cards are safe and the player does not need to take them.&nbsp;<span style=\"color: var(--overlayFontColor);\">In the image below the 4 cards from Green-2 to Purple-1 are safe cards. No matter the value or color they will not be taken.&nbsp;</span><span style=\"color: var(--overlayFontColor);\">All other cards (to the left of Purple-1) are not safe.</span></div><div>\nFrom the unsafe cards the player needs to take all cards that have values equal to the value of the played card and all cards that are the same color no matter the value.&nbsp;<span style=\"color: var(--overlayFontColor);\">The player must take all yellow cards and all cards with a value 4 or lower. In the image below, those cards are the Red-1, Red-4, and Yellow-3.</span></div><div><br></div><div><a href=\"/assets/-658727007_225205\"><img src=\"/assets/-658727007_225205\" class=\"richtextAsset\"></a></div><div><br></div><div><h4>End of the game&nbsp;</h4></div><div>The last round begins either when a player gets the last card from the draw pile or one player has collected at least one of each type of card. The player that completed the set of cards plays that turn normally and will go last in the final round. If the draw pile is exhausted, all players play one last card ending in the player the drew the last card from the draw pile.</div><div><span style=\"color: var(--overlayFontColor);\"><br></span></div><div><span style=\"color: var(--overlayFontColor);\">All players then choose 2 cards to add to their pile and 2 cards to discard.</span></div><div>&nbsp;</div><h4>Counting points</h4><div>The player that has the majority of each color counts 1 point for each card of that color. If two players have the majority of the same color both count 1 point per card.\n<br></div><div>All other cards points are added using their printed value.\n\nThe player with the LEAST amount of points wins.</div>",
      "helpText": "<h4>Setup</h4><div><ul><li><span style=\"font-weight: normal;\">All players should select a seat.</span></li></ul><a href=\"/assets/1655350907_20528\"><img src=\"/assets/1655350907_20528\" class=\"richtextAsset\"></a><ul><li><span style=\"font-weight: normal;\">Click on the play button&nbsp;to deal cards.<a href=\"/assets/-660941794_1759\"><img src=\"/assets/-660941794_1759\" class=\"richtextAsset\"></a></span></li></ul><h4>Round</h4><ul><li><span style=\"font-weight: 400;\">The player puts a card in the holder next to their hand. The number to the left of the line displays the count of the number of cards in the line.</span></li></ul><a href=\"/assets/1706549567_302976\"><img src=\"/assets/1706549567_302976\" class=\"richtextAsset\"></a><a href=\"/assets/-1527996678_145413\"><br></a><ul><li><span style=\"font-weight: normal;\">All cards that should be taken into the player's pile will be highlighted.</span><a href=\"/assets/385578086_109456\"><br></a><a href=\"/assets/-658727007_225205\"><img src=\"/assets/-658727007_225205\" class=\"richtextAsset\"></a></li></ul><ul><li><span style=\"font-weight: 400;\">The player can click the arrow to move the played card into the line and take the card into their pile.</span></li></ul><a href=\"/assets/-1835983689_722\"><img src=\"/assets/-1835983689_722\" class=\"richtextAsset\"></a><ul><li><span style=\"font-weight: 400;\">The player will be given a new card to keep the hand at 5. If this is the final round, no new card will be dealt.</span><a href=\"/assets/-424757628_56321\"><br></a></li></ul><h4>Ending the game</h4><div><ul><li><span style=\"font-weight: 400;\">After the last round is played, players need to discard 2 cards into the draw pile.</span></li><li><span style=\"font-weight: 400;\">When all players have chosen the remainder 2 cards in their hands, the cards can be played into their piles.</span></li><li><span style=\"font-weight: 400;\">Press the scoreboard button to automatically calculate scores for all players.</span></li></ul><a href=\"/assets/-1919788969_3587\"><img src=\"/assets/-1919788969_3587\" class=\"richtextAsset\"></a></div></div>",
      "lastUpdate": 1701546956642,
      "similarDesigner": "Naoki Homma",
      "variantImage": "",
      "variant": "",
      "language": "",
      "players": "2-6"
    }
  },
  "hand": {
    "type": "holder",
    "stackOffsetX": 45,
    "childrenPerOwner": true,
    "x": 1080,
    "width": 291,
    "id": "hand",
    "z": 113,
    "leaveRoutine": [
      {
        "func": "SET",
        "property": "player",
        "value": "${playerName}",
        "collection": "child"
      }
    ],
    "onEnter": {
      "activeFace": 1,
      "target": true
    },
    "onLeave": {
      "activeFace": 0
    },
    "hidePlayerCursors": true,
    "y": 810,
    "css": "background:#fff6"
  },
  "DECK": {
    "type": "deck",
    "id": "DECK",
    "x": 12,
    "y": 41,
    "cardDefaults": {
      "scale": 1,
      "enlarge": 3,
      "fontSize": 25
    },
    "cardTypes": {
      "01-Spades-00": {
        "image": "/assets/665835259_42474",
        "color": "#529332",
        "text": 0
      },
      "01-Spades-01": {
        "image": "/assets/665835259_42474",
        "color": "#529332",
        "text": 1
      },
      "01-Spades-02": {
        "image": "/assets/665835259_42474",
        "color": "#529332",
        "text": 2
      },
      "01-Spades-03": {
        "image": "/assets/665835259_42474",
        "color": "#529332",
        "text": 3
      },
      "01-Spades-04": {
        "image": "/assets/665835259_42474",
        "color": "#529332",
        "text": 4
      },
      "01-Spades-05": {
        "image": "/assets/665835259_42474",
        "color": "#529332",
        "text": 5
      },
      "01-Spades-06": {
        "image": "/assets/665835259_42474",
        "color": "#529332",
        "text": 6
      },
      "01-Spades-07": {
        "image": "/assets/665835259_42474",
        "color": "#529332",
        "text": 7
      },
      "01-Spades-08": {
        "image": "/assets/665835259_42474",
        "color": "#529332",
        "text": 8
      },
      "01-Spades-09": {
        "image": "/assets/665835259_42474",
        "color": "#529332",
        "text": 9
      },
      "01-Spades-10": {
        "image": "/assets/665835259_42474",
        "color": "#529332",
        "text": 10
      },
      "02-Hearts-00": {
        "image": "/assets/67841891_32272",
        "color": "#634388",
        "text": 0
      },
      "02-Hearts-01": {
        "image": "/assets/67841891_32272",
        "color": "#634388",
        "text": 1
      },
      "02-Hearts-02": {
        "image": "/assets/67841891_32272",
        "color": "#634388",
        "text": 2
      },
      "02-Hearts-03": {
        "image": "/assets/67841891_32272",
        "color": "#634388",
        "text": 3
      },
      "02-Hearts-04": {
        "image": "/assets/67841891_32272",
        "color": "#634388",
        "text": 4
      },
      "02-Hearts-05": {
        "image": "/assets/67841891_32272",
        "color": "#634388",
        "text": 5
      },
      "02-Hearts-06": {
        "image": "/assets/67841891_32272",
        "color": "#634388",
        "text": 6
      },
      "02-Hearts-07": {
        "image": "/assets/67841891_32272",
        "color": "#634388",
        "text": 7
      },
      "02-Hearts-08": {
        "image": "/assets/67841891_32272",
        "color": "#634388",
        "text": 8
      },
      "02-Hearts-09": {
        "image": "/assets/67841891_32272",
        "color": "#634388",
        "text": 9
      },
      "02-Hearts-10": {
        "image": "/assets/67841891_32272",
        "color": "#634388",
        "text": 10
      },
      "03-Clubs-00": {
        "image": "/assets/194838543_45192",
        "color": "#b9130f",
        "text": 0
      },
      "03-Clubs-01": {
        "image": "/assets/194838543_45192",
        "color": "#b9130f",
        "text": 1
      },
      "03-Clubs-02": {
        "image": "/assets/194838543_45192",
        "color": "#b9130f",
        "text": 2
      },
      "03-Clubs-03": {
        "image": "/assets/194838543_45192",
        "color": "#b9130f",
        "text": 3
      },
      "03-Clubs-04": {
        "image": "/assets/194838543_45192",
        "color": "#b9130f",
        "text": 4
      },
      "03-Clubs-05": {
        "image": "/assets/194838543_45192",
        "color": "#b9130f",
        "text": 5
      },
      "03-Clubs-06": {
        "image": "/assets/194838543_45192",
        "color": "#b9130f",
        "text": 6
      },
      "03-Clubs-07": {
        "image": "/assets/194838543_45192",
        "color": "#b9130f",
        "text": 7
      },
      "03-Clubs-08": {
        "image": "/assets/194838543_45192",
        "color": "#b9130f",
        "text": 8
      },
      "03-Clubs-09": {
        "image": "/assets/194838543_45192",
        "color": "#b9130f",
        "text": 9
      },
      "03-Clubs-10": {
        "image": "/assets/194838543_45192",
        "color": "#b9130f",
        "text": 10
      },
      "04-Diamonds-00": {
        "image": "/assets/-1070193246_35008",
        "color": "#56b4e9",
        "text": 0
      },
      "04-Diamonds-01": {
        "image": "/assets/-1070193246_35008",
        "color": "#56b4e9",
        "text": 1
      },
      "04-Diamonds-02": {
        "image": "/assets/-1070193246_35008",
        "color": "#56b4e9",
        "text": 2
      },
      "04-Diamonds-03": {
        "image": "/assets/-1070193246_35008",
        "color": "#56b4e9",
        "text": 3
      },
      "04-Diamonds-04": {
        "image": "/assets/-1070193246_35008",
        "color": "#56b4e9",
        "text": 4
      },
      "04-Diamonds-05": {
        "image": "/assets/-1070193246_35008",
        "color": "#56b4e9",
        "text": 5
      },
      "04-Diamonds-06": {
        "image": "/assets/-1070193246_35008",
        "color": "#56b4e9",
        "text": 6
      },
      "04-Diamonds-07": {
        "image": "/assets/-1070193246_35008",
        "color": "#56b4e9",
        "text": 7
      },
      "04-Diamonds-08": {
        "image": "/assets/-1070193246_35008",
        "color": "#56b4e9",
        "text": 8
      },
      "04-Diamonds-09": {
        "image": "/assets/-1070193246_35008",
        "color": "#56b4e9",
        "text": 9
      },
      "04-Diamonds-10": {
        "image": "/assets/-1070193246_35008",
        "color": "#56b4e9",
        "text": 10
      },
      "05-Starts-00": {
        "image": "/assets/-788686654_41556",
        "color": "#01020c",
        "text": 0
      },
      "05-Starts-01": {
        "image": "/assets/-788686654_41556",
        "color": "#01020c",
        "text": 1
      },
      "05-Starts-02": {
        "image": "/assets/-788686654_41556",
        "color": "#01020c",
        "text": 2
      },
      "05-Starts-03": {
        "image": "/assets/-788686654_41556",
        "color": "#01020c",
        "text": 3
      },
      "05-Starts-04": {
        "image": "/assets/-788686654_41556",
        "color": "#01020c",
        "text": 4
      },
      "05-Starts-05": {
        "image": "/assets/-788686654_41556",
        "color": "#01020c",
        "text": 5
      },
      "05-Starts-06": {
        "image": "/assets/-788686654_41556",
        "color": "#01020c",
        "text": 6
      },
      "05-Starts-07": {
        "image": "/assets/-788686654_41556",
        "color": "#01020c",
        "text": 7
      },
      "05-Starts-08": {
        "image": "/assets/-788686654_41556",
        "color": "#01020c",
        "text": 8
      },
      "05-Starts-09": {
        "image": "/assets/-788686654_41556",
        "color": "#01020c",
        "text": 9
      },
      "05-Starts-10": {
        "image": "/assets/-788686654_41556",
        "color": "#01020c",
        "text": 10
      },
      "06-Moons-00": {
        "image": "/assets/1312080327_26412",
        "color": "#eed227",
        "text": 0
      },
      "06-Moons-01": {
        "image": "/assets/1312080327_26412",
        "color": "#eed227",
        "text": 1
      },
      "06-Moons-02": {
        "image": "/assets/1312080327_26412",
        "color": "#eed227",
        "text": 2
      },
      "06-Moons-03": {
        "image": "/assets/1312080327_26412",
        "color": "#eed227",
        "text": 3
      },
      "06-Moons-04": {
        "image": "/assets/1312080327_26412",
        "color": "#eed227",
        "text": 4
      },
      "06-Moons-05": {
        "image": "/assets/1312080327_26412",
        "color": "#eed227",
        "text": 5
      },
      "06-Moons-06": {
        "image": "/assets/1312080327_26412",
        "color": "#eed227",
        "text": 6
      },
      "06-Moons-07": {
        "image": "/assets/1312080327_26412",
        "color": "#eed227",
        "text": 7
      },
      "06-Moons-08": {
        "image": "/assets/1312080327_26412",
        "color": "#eed227",
        "text": 8
      },
      "06-Moons-09": {
        "image": "/assets/1312080327_26412",
        "color": "#eed227",
        "text": 9
      },
      "06-Moons-10": {
        "image": "/assets/1312080327_26412",
        "color": "#eed227",
        "text": 10
      }
    },
    "faceTemplates": [
      {
        "radius": 10,
        "objects": [
          {
            "type": "image",
            "width": 103,
            "height": 160,
            "color": "#fff",
            "value": "/assets/484817980_31966",
            "css": "background-size:cover"
          }
        ],
        "border": 1
      },
      {
        "radius": 10,
        "objects": [
          {
            "type": "image",
            "width": 103,
            "height": 160,
            "color": "#fff",
            "css": "background-size:cover",
            "dynamicProperties": {
              "value": "image"
            }
          },
          {
            "type": "text",
            "x": 8,
            "y": 122,
            "textAlign": "center",
            "width": 30,
            "height": 30,
            "dynamicProperties": {
              "value": "text",
              "fontSize": "fontSize",
              "color": "color"
            },
            "css": "font-weight: bold !important; display: flex;justify-content: center; align-items: center;text-align: center;  border:1px solid black; border-radius:5px; background-color: #fff;",
            "rotation": 0
          }
        ],
        "border": 1
      }
    ],
    "parent": "DEAL"
  },
  "86ig": {
    "deck": "DECK",
    "type": "card",
    "cardType": "01-Spades-00",
    "id": "86ig",
    "z": 29362,
    "parent": "al6y"
  },
  "jjkk": {
    "deck": "DECK",
    "type": "card",
    "cardType": "01-Spades-01",
    "id": "jjkk",
    "z": 29376,
    "parent": "al6y"
  },
  "6ads": {
    "deck": "DECK",
    "type": "card",
    "cardType": "01-Spades-02",
    "id": "6ads",
    "z": 29344,
    "parent": "al6y"
  },
  "99r0": {
    "deck": "DECK",
    "type": "card",
    "cardType": "01-Spades-03",
    "id": "99r0",
    "z": 29356,
    "parent": "al6y"
  },
  "cd3x": {
    "deck": "DECK",
    "type": "card",
    "cardType": "01-Spades-04",
    "id": "cd3x",
    "z": 29368,
    "parent": "al6y"
  },
  "pd8t": {
    "deck": "DECK",
    "type": "card",
    "cardType": "01-Spades-05",
    "id": "pd8t",
    "z": 29365,
    "parent": "al6y"
  },
  "8zjq": {
    "deck": "DECK",
    "type": "card",
    "cardType": "01-Spades-06",
    "id": "8zjq",
    "z": 29348,
    "parent": "al6y"
  },
  "a8m3": {
    "deck": "DECK",
    "type": "card",
    "cardType": "01-Spades-07",
    "id": "a8m3",
    "z": 29355,
    "parent": "al6y"
  },
  "xpd2": {
    "deck": "DECK",
    "type": "card",
    "cardType": "01-Spades-08",
    "id": "xpd2",
    "z": 29350,
    "parent": "al6y"
  },
  "ir8h": {
    "deck": "DECK",
    "type": "card",
    "cardType": "01-Spades-09",
    "id": "ir8h",
    "z": 29380,
    "parent": "al6y"
  },
  "yvmr": {
    "deck": "DECK",
    "type": "card",
    "cardType": "01-Spades-10",
    "id": "yvmr",
    "z": 29334,
    "parent": "al6y"
  },
  "0jgt": {
    "deck": "DECK",
    "type": "card",
    "cardType": "02-Hearts-00",
    "id": "0jgt",
    "z": 29375,
    "parent": "al6y"
  },
  "6c0v": {
    "deck": "DECK",
    "type": "card",
    "cardType": "02-Hearts-01",
    "id": "6c0v",
    "z": 29414,
    "parent": "al6y"
  },
  "84qt": {
    "deck": "DECK",
    "type": "card",
    "cardType": "02-Hearts-02",
    "id": "84qt",
    "z": 29372,
    "parent": "al6y"
  },
  "xfq2": {
    "deck": "DECK",
    "type": "card",
    "cardType": "02-Hearts-03",
    "id": "xfq2",
    "z": 29402,
    "parent": "al6y"
  },
  "5tzs": {
    "deck": "DECK",
    "type": "card",
    "cardType": "02-Hearts-04",
    "id": "5tzs",
    "z": 29411,
    "parent": "al6y"
  },
  "sqkp": {
    "deck": "DECK",
    "type": "card",
    "cardType": "02-Hearts-05",
    "id": "sqkp",
    "z": 29345,
    "parent": "al6y"
  },
  "vqug": {
    "deck": "DECK",
    "type": "card",
    "cardType": "02-Hearts-06",
    "id": "vqug",
    "z": 29364,
    "parent": "al6y"
  },
  "gagc": {
    "deck": "DECK",
    "type": "card",
    "cardType": "02-Hearts-07",
    "id": "gagc",
    "z": 29336,
    "parent": "al6y"
  },
  "iccr": {
    "deck": "DECK",
    "type": "card",
    "cardType": "02-Hearts-08",
    "id": "iccr",
    "z": 29384,
    "parent": "al6y"
  },
  "0mi6": {
    "deck": "DECK",
    "type": "card",
    "cardType": "02-Hearts-09",
    "id": "0mi6",
    "z": 29354,
    "parent": "al6y"
  },
  "o6c0": {
    "deck": "DECK",
    "type": "card",
    "cardType": "02-Hearts-10",
    "id": "o6c0",
    "z": 29328,
    "parent": "al6y"
  },
  "uu1e": {
    "deck": "DECK",
    "type": "card",
    "cardType": "03-Clubs-00",
    "id": "uu1e",
    "z": 29377,
    "parent": "al6y"
  },
  "41o3": {
    "deck": "DECK",
    "type": "card",
    "cardType": "03-Clubs-01",
    "id": "41o3",
    "z": 29341,
    "parent": "al6y"
  },
  "orr7": {
    "deck": "DECK",
    "type": "card",
    "cardType": "03-Clubs-02",
    "id": "orr7",
    "z": 29382,
    "parent": "al6y"
  },
  "62uz": {
    "deck": "DECK",
    "type": "card",
    "cardType": "03-Clubs-03",
    "id": "62uz",
    "z": 29338,
    "parent": "al6y"
  },
  "gtf3": {
    "deck": "DECK",
    "type": "card",
    "cardType": "03-Clubs-04",
    "id": "gtf3",
    "z": 29343,
    "parent": "al6y"
  },
  "czsp": {
    "deck": "DECK",
    "type": "card",
    "cardType": "03-Clubs-05",
    "id": "czsp",
    "z": 29379,
    "parent": "al6y"
  },
  "bfxl": {
    "deck": "DECK",
    "type": "card",
    "cardType": "03-Clubs-06",
    "id": "bfxl",
    "z": 29371,
    "parent": "al6y"
  },
  "a838": {
    "deck": "DECK",
    "type": "card",
    "cardType": "03-Clubs-07",
    "id": "a838",
    "z": 29351,
    "parent": "al6y"
  },
  "n86s": {
    "deck": "DECK",
    "type": "card",
    "cardType": "03-Clubs-08",
    "id": "n86s",
    "z": 29370,
    "parent": "al6y"
  },
  "7v23": {
    "deck": "DECK",
    "type": "card",
    "cardType": "03-Clubs-09",
    "id": "7v23",
    "z": 29369,
    "parent": "al6y"
  },
  "ql4q": {
    "deck": "DECK",
    "type": "card",
    "cardType": "03-Clubs-10",
    "id": "ql4q",
    "z": 29329,
    "parent": "al6y"
  },
  "x5kd": {
    "deck": "DECK",
    "type": "card",
    "cardType": "04-Diamonds-00",
    "id": "x5kd",
    "z": 29358,
    "parent": "al6y"
  },
  "bjy5": {
    "deck": "DECK",
    "type": "card",
    "cardType": "04-Diamonds-01",
    "id": "bjy5",
    "z": 29361,
    "parent": "al6y"
  },
  "m1cn": {
    "deck": "DECK",
    "type": "card",
    "cardType": "04-Diamonds-02",
    "id": "m1cn",
    "z": 29366,
    "parent": "al6y"
  },
  "s5no": {
    "deck": "DECK",
    "type": "card",
    "cardType": "04-Diamonds-03",
    "id": "s5no",
    "z": 29337,
    "parent": "al6y"
  },
  "kqr5": {
    "deck": "DECK",
    "type": "card",
    "cardType": "04-Diamonds-04",
    "id": "kqr5",
    "z": 29383,
    "parent": "al6y"
  },
  "17os": {
    "deck": "DECK",
    "type": "card",
    "cardType": "04-Diamonds-05",
    "id": "17os",
    "z": 29367,
    "parent": "al6y"
  },
  "po6m": {
    "deck": "DECK",
    "type": "card",
    "cardType": "04-Diamonds-06",
    "id": "po6m",
    "z": 29331,
    "parent": "al6y"
  },
  "budl": {
    "deck": "DECK",
    "type": "card",
    "cardType": "04-Diamonds-07",
    "id": "budl",
    "z": 29408,
    "parent": "al6y"
  },
  "fxba": {
    "deck": "DECK",
    "type": "card",
    "cardType": "04-Diamonds-08",
    "id": "fxba",
    "z": 29327,
    "parent": "al6y"
  },
  "187l": {
    "deck": "DECK",
    "type": "card",
    "cardType": "04-Diamonds-09",
    "id": "187l",
    "z": 29373,
    "parent": "al6y"
  },
  "o9lb": {
    "deck": "DECK",
    "type": "card",
    "cardType": "04-Diamonds-10",
    "id": "o9lb",
    "z": 29352,
    "parent": "al6y"
  },
  "lfbw": {
    "deck": "DECK",
    "type": "card",
    "cardType": "05-Starts-00",
    "id": "lfbw",
    "z": 29349,
    "parent": "al6y"
  },
  "j2nr": {
    "deck": "DECK",
    "type": "card",
    "cardType": "05-Starts-01",
    "id": "j2nr",
    "z": 29330,
    "parent": "al6y"
  },
  "6iba": {
    "deck": "DECK",
    "type": "card",
    "cardType": "05-Starts-02",
    "id": "6iba",
    "z": 29347,
    "parent": "al6y"
  },
  "ydp6": {
    "deck": "DECK",
    "type": "card",
    "cardType": "05-Starts-03",
    "id": "ydp6",
    "z": 29325,
    "parent": "al6y"
  },
  "b1mn": {
    "deck": "DECK",
    "type": "card",
    "cardType": "05-Starts-04",
    "id": "b1mn",
    "z": 29374,
    "parent": "al6y"
  },
  "a594": {
    "deck": "DECK",
    "type": "card",
    "cardType": "05-Starts-05",
    "id": "a594",
    "z": 29360,
    "parent": "al6y"
  },
  "527c": {
    "deck": "DECK",
    "type": "card",
    "cardType": "05-Starts-06",
    "id": "527c",
    "z": 29378,
    "parent": "al6y"
  },
  "vtke": {
    "deck": "DECK",
    "type": "card",
    "cardType": "05-Starts-07",
    "id": "vtke",
    "z": 29332,
    "parent": "al6y"
  },
  "p1x2": {
    "deck": "DECK",
    "type": "card",
    "cardType": "05-Starts-08",
    "id": "p1x2",
    "z": 29342,
    "parent": "al6y"
  },
  "luqt": {
    "deck": "DECK",
    "type": "card",
    "cardType": "05-Starts-09",
    "id": "luqt",
    "z": 29399,
    "parent": "al6y"
  },
  "eonc": {
    "deck": "DECK",
    "type": "card",
    "cardType": "05-Starts-10",
    "id": "eonc",
    "z": 29340,
    "parent": "al6y"
  },
  "qq5r": {
    "deck": "DECK",
    "type": "card",
    "cardType": "06-Moons-00",
    "id": "qq5r",
    "z": 29405,
    "parent": "al6y"
  },
  "zxm8": {
    "deck": "DECK",
    "type": "card",
    "cardType": "06-Moons-01",
    "id": "zxm8",
    "z": 29381,
    "parent": "al6y"
  },
  "04fw": {
    "deck": "DECK",
    "type": "card",
    "cardType": "06-Moons-02",
    "id": "04fw",
    "z": 29326,
    "parent": "al6y"
  },
  "d4af": {
    "deck": "DECK",
    "type": "card",
    "cardType": "06-Moons-03",
    "id": "d4af",
    "z": 29363,
    "parent": "al6y"
  },
  "jws8": {
    "deck": "DECK",
    "type": "card",
    "cardType": "06-Moons-04",
    "id": "jws8",
    "z": 29353,
    "parent": "al6y"
  },
  "bakg": {
    "deck": "DECK",
    "type": "card",
    "cardType": "06-Moons-05",
    "id": "bakg",
    "z": 29346,
    "parent": "al6y"
  },
  "d31h": {
    "deck": "DECK",
    "type": "card",
    "cardType": "06-Moons-06",
    "id": "d31h",
    "z": 29333,
    "parent": "al6y"
  },
  "dml1": {
    "deck": "DECK",
    "type": "card",
    "cardType": "06-Moons-07",
    "id": "dml1",
    "z": 29359,
    "parent": "al6y"
  },
  "8dco": {
    "deck": "DECK",
    "type": "card",
    "cardType": "06-Moons-08",
    "id": "8dco",
    "z": 29335,
    "parent": "al6y"
  },
  "viq2": {
    "deck": "DECK",
    "type": "card",
    "cardType": "06-Moons-09",
    "id": "viq2",
    "z": 29357,
    "parent": "al6y"
  },
  "ibxx": {
    "deck": "DECK",
    "type": "card",
    "cardType": "06-Moons-10",
    "id": "ibxx",
    "z": 29339,
    "parent": "al6y"
  },
  "DEAL": {
    "type": "holder",
    "id": "DEAL",
    "z": 142,
    "onEnter": {
      "activeFace": 0,
      "target": null,
      "player": null
    },
    "x": 1395,
    "y": 810,
    "css": "background:#fff6"
  },
  "8jekD": {
    "id": "8jekD",
    "parent": "Counter-SEAT1",
    "fixedParent": true,
    "x": -38,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "remove",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "dec",
        "value": 1
      }
    ]
  },
  "8jekU": {
    "id": "8jekU",
    "parent": "Counter-SEAT1",
    "fixedParent": true,
    "x": 68,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "add",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "inc",
        "value": 1
      }
    ]
  },
  "SEAT1": {
    "type": "seat",
    "id": "SEAT1",
    "z": 26,
    "y": 80,
    "movableInEdit": false,
    "hideWhenUnused": true,
    "hand2": "TopHolder-SEAT1",
    "x": 5,
    "scale": 0.98,
    "#529332": 0,
    "#634388": 0,
    "#b9130f": 0,
    "#56b4e9": 0,
    "#01020c": 0,
    "#eed227": 0,
    "turn": true
  },
  "TopHolder-SEAT1": {
    "type": "holder",
    "id": "TopHolder-SEAT1",
    "parent": "SEAT1",
    "width": 631,
    "z": 12,
    "onEnter": {
      "activeFace": 1
    },
    "onLeave": {
      "activeFace": 0
    },
    "stackOffsetX": 40,
    "linkedToSeat": "SEAT1",
    "movableInEdit": false,
    "sortRoutine": [
      "var bottomHolder = 'BottomHolder-' + ${PROPERTY linkedToSeat}",
      {
        "func": "MOVE",
        "from": "${PROPERTY id}",
        "to": "${bottomHolder}",
        "count": 0
      },
      {
        "func": "SORT",
        "key": "cardType",
        "holder": "${bottomHolder}"
      },
      {
        "func": "SELECT",
        "type": "card",
        "property": "_ancestor",
        "value": "${bottomHolder}",
        "collection": "theseCards"
      },
      {
        "func": "SELECT",
        "source": "theseCards",
        "property": "color",
        "value": "#529332",
        "max": 1,
        "collection": "eachColor"
      },
      {
        "func": "FOREACH",
        "in": [
          "#634388",
          "#b9130f",
          "#56b4e9",
          "#01020c",
          "#eed227"
        ],
        "loopRoutine": [
          {
            "func": "SELECT",
            "source": "theseCards",
            "property": "color",
            "value": "${value}",
            "max": 1,
            "collection": "eachColor",
            "mode": "add"
          }
        ]
      },
      {
        "func": "GET",
        "collection": "eachColor",
        "property": "color",
        "aggregation": "array"
      },
      "var endCheck = length ${color}",
      {
        "func": "IF",
        "operand1": "${endCheck}",
        "relation": "<",
        "operand2": 6,
        "thenRoutine": [
          "var result = true"
        ]
      },
      {
        "func": "FOREACH",
        "range": [
          14
        ],
        "loopRoutine": [
          {
            "func": "MOVE",
            "from": "${bottomHolder}",
            "to": "${PROPERTY id}"
          }
        ]
      }
    ],
    "classes": "transparent",
    "x": 160,
    "y": -80
  },
  "Counter-SEAT1": {
    "type": "label",
    "id": "Counter-SEAT1",
    "parent": "SEAT1",
    "width": 65,
    "height": 40,
    "z": 12,
    "css": "font-size: 30px;",
    "editable": true,
    "text": 0,
    "linkedToSeat": "SEAT1",
    "x": 42,
    "y": 70
  },
  "SEAT2": {
    "type": "seat",
    "id": "SEAT2",
    "z": 42,
    "x": 5,
    "y": 310,
    "index": 2,
    "movableInEdit": false,
    "hideWhenUnused": true,
    "hand2": "TopHolder-SEAT2",
    "scale": 0.98,
    "#529332": 0,
    "#634388": 0,
    "#b9130f": 0,
    "#56b4e9": 0,
    "#01020c": 0,
    "#eed227": 0
  },
  "TopHolder-SEAT2": {
    "type": "holder",
    "id": "TopHolder-SEAT2",
    "parent": "SEAT2",
    "linkedToSeat": "SEAT2",
    "inheritFrom": "TopHolder-SEAT1",
    "x": 160,
    "y": -80
  },
  "Counter-SEAT2": {
    "type": "label",
    "id": "Counter-SEAT2",
    "parent": "SEAT2",
    "x": 42,
    "y": 70,
    "width": 65,
    "height": 40,
    "z": 12,
    "css": "font-size: 30px;",
    "editable": true,
    "text": 0,
    "linkedToSeat": "SEAT2"
  },
  "9jekD": {
    "id": "9jekD",
    "parent": "Counter-SEAT2",
    "fixedParent": true,
    "x": -38,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "remove",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "dec",
        "value": 1
      }
    ]
  },
  "9jekU": {
    "id": "9jekU",
    "parent": "Counter-SEAT2",
    "fixedParent": true,
    "x": 68,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "add",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "inc",
        "value": 1
      }
    ]
  },
  "SEAT3": {
    "type": "seat",
    "id": "SEAT3",
    "z": 41,
    "x": 5,
    "index": 3,
    "movableInEdit": false,
    "hideWhenUnused": true,
    "hand2": "TopHolder-SEAT3",
    "scale": 0.98,
    "y": 540,
    "#529332": 0,
    "#634388": 0,
    "#b9130f": 0,
    "#56b4e9": 0,
    "#01020c": 0,
    "#eed227": 0
  },
  "TopHolder-SEAT3": {
    "type": "holder",
    "id": "TopHolder-SEAT3",
    "parent": "SEAT3",
    "linkedToSeat": "SEAT3",
    "inheritFrom": "TopHolder-SEAT1"
  },
  "Counter-SEAT3": {
    "type": "label",
    "id": "Counter-SEAT3",
    "parent": "SEAT3",
    "x": 42,
    "y": 70,
    "width": 65,
    "height": 40,
    "z": 12,
    "css": "font-size: 30px;",
    "editable": true,
    "text": 0,
    "linkedToSeat": "SEAT3"
  },
  "10jekD": {
    "id": "10jekD",
    "parent": "Counter-SEAT3",
    "fixedParent": true,
    "x": -38,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "remove",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "dec",
        "value": 1
      }
    ]
  },
  "10jekU": {
    "id": "10jekU",
    "parent": "Counter-SEAT3",
    "fixedParent": true,
    "x": 68,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "add",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "inc",
        "value": 1
      }
    ]
  },
  "SEAT4": {
    "type": "seat",
    "id": "SEAT4",
    "z": 43,
    "x": 810,
    "y": 80,
    "index": 4,
    "movableInEdit": false,
    "hideWhenUnused": true,
    "hand2": "TopHolder-SEAT4",
    "scale": 0.98,
    "#529332": 0,
    "#634388": 0,
    "#b9130f": 0,
    "#56b4e9": 0,
    "#01020c": 0,
    "#eed227": 0
  },
  "TopHolder-SEAT4": {
    "type": "holder",
    "id": "TopHolder-SEAT4",
    "parent": "SEAT4",
    "linkedToSeat": "SEAT4",
    "inheritFrom": "TopHolder-SEAT1",
    "x": 160,
    "y": -80
  },
  "Counter-SEAT4": {
    "type": "label",
    "id": "Counter-SEAT4",
    "parent": "SEAT4",
    "x": 42,
    "y": 70,
    "width": 65,
    "height": 40,
    "z": 12,
    "css": "font-size: 30px;",
    "editable": true,
    "text": 0,
    "linkedToSeat": "SEAT4"
  },
  "11jekD": {
    "id": "11jekD",
    "parent": "Counter-SEAT4",
    "fixedParent": true,
    "x": -38,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "remove",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "dec",
        "value": 1
      }
    ]
  },
  "11jekU": {
    "id": "11jekU",
    "parent": "Counter-SEAT4",
    "fixedParent": true,
    "x": 68,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "add",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "inc",
        "value": 1
      }
    ]
  },
  "SEAT5": {
    "type": "seat",
    "id": "SEAT5",
    "z": 44,
    "x": 810,
    "y": 310,
    "index": 5,
    "movableInEdit": false,
    "hideWhenUnused": true,
    "hand2": "TopHolder-SEAT5",
    "scale": 0.98,
    "#529332": 0,
    "#634388": 0,
    "#b9130f": 0,
    "#56b4e9": 0,
    "#01020c": 0,
    "#eed227": 0
  },
  "TopHolder-SEAT5": {
    "type": "holder",
    "id": "TopHolder-SEAT5",
    "parent": "SEAT5",
    "linkedToSeat": "SEAT5",
    "inheritFrom": "TopHolder-SEAT1",
    "x": 160,
    "y": -80
  },
  "Counter-SEAT5": {
    "type": "label",
    "id": "Counter-SEAT5",
    "parent": "SEAT5",
    "x": 42,
    "y": 70,
    "width": 65,
    "height": 40,
    "z": 12,
    "css": "font-size: 30px;",
    "editable": true,
    "text": 0,
    "linkedToSeat": "SEAT5"
  },
  "12jekD": {
    "id": "12jekD",
    "parent": "Counter-SEAT5",
    "fixedParent": true,
    "x": -38,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "remove",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "dec",
        "value": 1
      }
    ]
  },
  "12jekU": {
    "id": "12jekU",
    "parent": "Counter-SEAT5",
    "fixedParent": true,
    "x": 68,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "add",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "inc",
        "value": 1
      }
    ]
  },
  "SEAT6": {
    "type": "seat",
    "id": "SEAT6",
    "z": 45,
    "x": 810,
    "y": 540,
    "hideWhenUnused": true,
    "index": 6,
    "movableInEdit": false,
    "hand2": "TopHolder-SEAT6",
    "scale": 0.98,
    "#529332": 0,
    "#634388": 0,
    "#b9130f": 0,
    "#56b4e9": 0,
    "#01020c": 0,
    "#eed227": 0
  },
  "TopHolder-SEAT6": {
    "type": "holder",
    "id": "TopHolder-SEAT6",
    "parent": "SEAT6",
    "linkedToSeat": "SEAT6",
    "inheritFrom": "TopHolder-SEAT1",
    "x": 160,
    "y": -80
  },
  "Counter-SEAT6": {
    "type": "label",
    "id": "Counter-SEAT6",
    "parent": "SEAT6",
    "x": 42,
    "y": 70,
    "width": 65,
    "height": 40,
    "z": 12,
    "css": "font-size: 30px;",
    "editable": true,
    "text": 0,
    "linkedToSeat": "SEAT6"
  },
  "13jekD": {
    "id": "13jekD",
    "parent": "Counter-SEAT6",
    "fixedParent": true,
    "x": -38,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "remove",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "dec",
        "value": 1
      }
    ]
  },
  "13jekU": {
    "id": "13jekU",
    "parent": "Counter-SEAT6",
    "fixedParent": true,
    "x": 68,
    "y": 1,
    "width": 36,
    "height": 36,
    "type": "button",
    "movableInEdit": false,
    "classes": "symbols",
    "css": "font-size: 28px",
    "text": "add",
    "clickRoutine": [
      {
        "func": "LABEL",
        "label": "${PROPERTY parent}",
        "mode": "inc",
        "value": 1
      }
    ]
  },
  "carnivalLine": {
    "type": "holder",
    "id": "carnivalLine",
    "y": 810,
    "width": 605,
    "z": 139,
    "onEnter": {
      "activeFace": 1
    },
    "onLeave": {
      "activeFace": 0
    },
    "stackOffsetX": 45,
    "css": "background:#fff6",
    "enterRoutine": [
      {
        "func": "CALL",
        "routine": "countRoutine"
      }
    ],
    "leaveRoutine": [
      {
        "func": "CALL",
        "routine": "countRoutine"
      }
    ],
    "countRoutine": [
      {
        "func": "COUNT",
        "holder": "${PROPERTY id}"
      },
      {
        "func": "SET",
        "collection": [
          "paradeCount"
        ],
        "property": "text",
        "value": "${COUNT}"
      }
    ],
    "x": 170
  },
  "temp": {
    "type": "holder",
    "id": "temp",
    "x": 915,
    "y": 810,
    "z": 145,
    "css": "background:#fff6",
    "dropTarget": {
      "type": "card",
      "target": true
    },
    "onEnter": {
      "activeFace": 1
    },
    "onLeave": {
      "activeFace": 0,
      "target": null,
      "player": null
    },
    "enterRoutine": [
      {
        "func": "GET",
        "property": "color",
        "collection": "child",
        "variable": "cardColor"
      },
      {
        "func": "GET",
        "property": "text",
        "collection": "child",
        "variable": "cardValue"
      },
      {
        "func": "SELECT",
        "property": "parent",
        "value": "carnivalLine",
        "collection": "totalCards",
        "sortBy": {
          "key": "z",
          "reverse": false
        }
      },
      {
        "func": "COUNT",
        "variable": "totalCards",
        "collection": "totalCards"
      },
      "var getCards = ${totalCards} - ${cardValue}",
      {
        "func": "IF",
        "operand1": "${getCards}",
        "relation": "<",
        "operand2": 0,
        "thenRoutine": [
          "var getCards = 0"
        ]
      },
      {
        "func": "SELECT",
        "property": "parent",
        "value": "carnivalLine",
        "max": "${getCards}",
        "source": "totalCards",
        "collection": "possibleCards"
      },
      {
        "func": "SELECT",
        "source": "possibleCards",
        "property": "text",
        "relation": "<=",
        "value": "${cardValue}",
        "collection": "validCards"
      },
      {
        "func": "SELECT",
        "source": "possibleCards",
        "property": "color",
        "relation": "==",
        "value": "${cardColor}",
        "collection": "validCards",
        "mode": "add"
      },
      {
        "func": "SET",
        "property": "y",
        "value": 30,
        "relation": "-",
        "collection": "validCards"
      },
      {
        "func": "SET",
        "property": "color",
        "collection": [
          "Move"
        ],
        "value": "#d55e00"
      }
    ],
    "leaveRoutine": [
      {
        "func": "SET",
        "property": "color",
        "collection": [
          "Move"
        ],
        "value": "#000"
      }
    ]
  },
  "Move": {
    "id": "Move",
    "x": 819,
    "y": 868,
    "width": 50,
    "height": 50,
    "z": 29,
    "classes": "symbols",
    "color": "#000",
    "css": {
      "default": {
        "font-size": "50px",
        "color": "${PROPERTY color}",
        "border-radius": "50%"
      },
      ":hover": {
        "color": "#888"
      }
    },
    "text": "arrow_left",
    "clickRoutine": [
      {
        "func": "SELECT",
        "property": "parent",
        "value": "temp"
      },
      {
        "func": "GET",
        "property": "player",
        "variable": "player"
      },
      {
        "func": "SELECT",
        "type": "seat",
        "property": "player",
        "value": "${player}"
      },
      {
        "func": "GET",
        "property": "hand2",
        "variable": "seatHand"
      },
      {
        "func": "SELECT",
        "property": "parent",
        "value": "carnivalLine"
      },
      {
        "func": "SELECT",
        "source": "DEFAULT",
        "property": "y",
        "relation": "<",
        "value": 0
      },
      {
        "func": "SET",
        "property": "parent",
        "value": "${seatHand}"
      },
      {
        "func": "MOVE",
        "from": "temp",
        "to": "carnivalLine"
      },
      {
        "func": "CALL",
        "routine": "sortRoutine",
        "widget": "${seatHand}",
        "variable": "result"
      },
      {
        "func": "IF",
        "condition": "${PROPERTY endCheck}",
        "elseRoutine": [
          {
            "func": "MOVE",
            "from": "DEAL",
            "to": "SEAT${seatIndex}",
            "fillTo": 5
          },
          {
            "func": "IF",
            "condition": "${result}",
            "elseRoutine": [
              {
                "func": "SET",
                "collection": "thisButton",
                "property": "endCheck",
                "value": true
              }
            ]
          }
        ]
      },
      {
        "func": "TURN"
      }
    ],
    "movable": false,
    "endCheck": false,
    "layer": -3
  },
  "background": {
    "id": "background",
    "x": -10,
    "y": -10,
    "width": 1620,
    "height": 1020,
    "layer": -6,
    "movable": false,
    "movableInEdit": false,
    "css": {
      "background-size": "cover",
      "opacity": "0.1",
      "filter": "blur(3px)"
    },
    "image": "/assets/-536492840_57226"
  },
  "BottomHolder-SEAT3": {
    "type": "holder",
    "id": "BottomHolder-SEAT3",
    "parent": "SEAT3",
    "x": 160,
    "y": -80,
    "inheritFrom": "BottomHolder-SEAT1",
    "linkedToSeat": "SEAT3"
  },
  "BottomHolder-SEAT4": {
    "type": "holder",
    "id": "BottomHolder-SEAT4",
    "parent": "SEAT4",
    "inheritFrom": "BottomHolder-SEAT1",
    "linkedToSeat": "SEAT4"
  },
  "BottomHolder-SEAT5": {
    "type": "holder",
    "id": "BottomHolder-SEAT5",
    "parent": "SEAT5",
    "inheritFrom": "BottomHolder-SEAT1",
    "linkedToSeat": "SEAT5"
  },
  "BottomHolder-SEAT6": {
    "type": "holder",
    "id": "BottomHolder-SEAT6",
    "parent": "SEAT6",
    "x": 160,
    "y": -80,
    "inheritFrom": "BottomHolder-SEAT1",
    "linkedToSeat": "SEAT6"
  },
  "BottomHolder-SEAT1": {
    "type": "holder",
    "id": "BottomHolder-SEAT1",
    "parent": "SEAT1",
    "x": 160,
    "y": -80,
    "width": 631,
    "height": 228,
    "z": 6,
    "movableInEdit": false,
    "css": "background:#fff6",
    "dropOffsetY": 64,
    "linkedToSeat": "SEAT1",
    "onEnter": {
      "activeFace": 1
    },
    "onLeave": {
      "activeFace": 0
    },
    "stackOffsetX": 40
  },
  "BottomHolder-SEAT2": {
    "type": "holder",
    "id": "BottomHolder-SEAT2",
    "parent": "SEAT2",
    "inheritFrom": "BottomHolder-SEAT1",
    "linkedToSeat": "SEAT2"
  },
  "restart": {
    "type": "button",
    "id": "restart",
    "x": 8,
    "y": 917,
    "width": 70,
    "height": 70,
    "z": 54,
    "movableInEdit": false,
    "classes": "symbols",
    "css": {
      "default": {
        "font-size": "50px"
      },
      ":hover": {
        "color": "grey"
      }
    },
    "text": "play_arrow",
    "clickRoutine": [
      {
        "func": "INPUT",
        "fields": [
          {
            "type": "title",
            "text": "Restarting game ..."
          },
          {
            "type": "subtitle",
            "text": "This will restart the game. Are you sure?"
          }
        ],
        "cancelButtonText": "No",
        "confirmButtonText": "Yes"
      },
      {
        "func": "RECALL",
        "holder": "DEAL"
      },
      {
        "func": "FLIP",
        "holder": "DEAL",
        "face": 0
      },
      {
        "func": "SHUFFLE",
        "holder": "DEAL"
      },
      {
        "func": "TURN",
        "turnCycle": "random"
      },
      {
        "func": "LABEL",
        "label": [
          "Counter-SEAT1",
          "Counter-SEAT2",
          "Counter-SEAT3",
          "Counter-SEAT4",
          "Counter-SEAT5",
          "Counter-SEAT6"
        ]
      },
      {
        "func": "MOVE",
        "from": "DEAL",
        "to": [
          "SEAT1",
          "SEAT2",
          "SEAT3",
          "SEAT4",
          "SEAT5",
          "SEAT6"
        ],
        "count": 5
      },
      {
        "func": "MOVE",
        "from": "DEAL",
        "to": "carnivalLine",
        "fillTo": 6
      },
      {
        "func": "SET",
        "collection": [
          "Move"
        ],
        "property": "endCheck",
        "value": false
      },
      {
        "func": "CALL",
        "routine": "scoreRoutine",
        "widget": "scoreButton"
      }
    ],
    "gameStartRoutine": [
      {
        "func": "SHUFFLE",
        "holder": "DEAL"
      }
    ]
  },
  "paradeCount": {
    "id": "paradeCount",
    "height": 40,
    "movable": false,
    "css": {
      "font-size": "40px"
    },
    "width": 45,
    "layer": -3,
    "y": 879,
    "text": 0,
    "x": 120
  },
  "al6y": {
    "type": "pile",
    "parent": "DEAL",
    "x": 4,
    "y": 4,
    "width": 103,
    "height": 160,
    "id": "al6y"
  },
  "scoreButton": {
    "type": "button",
    "id": "scoreButton",
    "x": 8,
    "y": 811,
    "width": 70,
    "height": 70,
    "z": 55,
    "classes": "material-icons",
    "css": {
      "font-size": "50px",
      "line-height": "60px"
    },
    "text": "scoreboard",
    "scoreRoutine": [
      "// Find value and count of all cards for all seats",
      {
        "func": "FOREACH",
        "range": [
          6
        ],
        "loopRoutine": [
          "var seat = 'SEAT' + ${value}",
          {
            "func": "SELECT",
            "type": "card",
            "property": "_ancestor",
            "relation": "in",
            "value": [
              "TopHolder-${seat}",
              "BottomHolder-${seat}"
            ],
            "collection": "seatCards"
          },
          {
            "func": "GET",
            "collection": "seatCards",
            "property": "text",
            "aggregation": "sum",
            "variable": "sumCards"
          },
          "var sumCards = ${sumCards} * -1",
          {
            "func": "LABEL",
            "label": "Counter-${seat}",
            "mode": "set",
            "value": "${sumCards}"
          },
          {
            "func": "FOREACH",
            "in": [
              "#529332",
              "#634388",
              "#b9130f",
              "#56b4e9",
              "#01020c",
              "#eed227"
            ],
            "loopRoutine": [
              {
                "func": "SELECT",
                "source": "seatCards",
                "property": "color",
                "value": "${value}"
              },
              {
                "func": "COUNT"
              },
              {
                "func": "SET",
                "collection": [
                  "${seat}"
                ],
                "property": "${value}",
                "value": "${COUNT}"
              }
            ]
          }
        ]
      },
      "// Update values based on which player has most of a color",
      {
        "func": "SELECT",
        "type": "seat",
        "property": "player",
        "relation": "!=",
        "value": "",
        "collection": "2pSeats"
      },
      {
        "func": "COUNT",
        "collection": "2pSeats"
      },
      {
        "func": "IF",
        "operand1": "${COUNT}",
        "operand2": 2,
        "thenRoutine": [
          {
            "func": "CALL",
            "routine": "score2PRoutine"
          }
        ],
        "elseRoutine": [
          {
            "func": "CALL",
            "routine": "scoreNormalRoutine"
          }
        ]
      }
    ],
    "clickRoutine": [
      {
        "func": "INPUT",
        "fields": [
          {
            "type": "title",
            "text": "Calculating score ..."
          },
          {
            "type": "subtitle",
            "text": "This will calculate scores for all players. Are you sure?"
          }
        ],
        "cancelButtonText": "No",
        "confirmButtonText": "Yes"
      },
      {
        "func": "CALL",
        "routine": "scoreRoutine"
      }
    ],
    "scoreNormalRoutine": [
      {
        "func": "FOREACH",
        "in": [
          "#529332",
          "#634388",
          "#b9130f",
          "#56b4e9",
          "#01020c",
          "#eed227"
        ],
        "loopRoutine": [
          "// Determine which seats have the most of each color",
          {
            "func": "SELECT",
            "type": "seat",
            "property": "${value}",
            "relation": ">",
            "value": 0,
            "collection": "allSeats"
          },
          {
            "func": "GET",
            "collection": "allSeats",
            "property": "${value}",
            "aggregation": "max",
            "variable": "maxColor"
          },
          {
            "func": "SELECT",
            "source": "allSeats",
            "property": "${value}",
            "value": "${maxColor}",
            "collection": "maxSeats"
          },
          {
            "func": "FOREACH",
            "collection": "maxSeats",
            "loopRoutine": [
              {
                "func": "SELECT",
                "type": "card",
                "property": "_ancestor",
                "relation": "in",
                "value": [
                  "TopHolder-${widgetID}",
                  "BottomHolder-${widgetID}"
                ],
                "collection": "minusCards"
              },
              {
                "func": "SELECT",
                "source": "minusCards",
                "property": "color",
                "value": "${value}",
                "collection": "minusCards"
              },
              {
                "func": "GET",
                "collection": "minusCards",
                "property": "text",
                "aggregation": "sum",
                "variable": "minusCards"
              },
              "// Remove the points previously calculated for based on the card values for the color and just subtract one point per card",
              {
                "func": "LABEL",
                "label": "Counter-${widgetID}",
                "mode": "inc",
                "value": "${minusCards}"
              },
              {
                "func": "LABEL",
                "label": "Counter-${widgetID}",
                "mode": "dec",
                "value": "${maxColor}"
              }
            ]
          }
        ]
      }
    ],
    "score2PRoutine": [
      {
        "func": "GET",
        "collection": "2pSeats",
        "property": "id",
        "aggregation": "array"
      },
      "var 1seat = ${id.0}",
      "var 2seat = ${id.1}",
      {
        "func": "FOREACH",
        "in": [
          "#529332",
          "#634388",
          "#b9130f",
          "#56b4e9",
          "#01020c",
          "#eed227"
        ],
        "loopRoutine": [
          "// Determine which seats have the most of each color",
          {
            "func": "SELECT",
            "type": "seat",
            "property": "player",
            "relation": "!=",
            "value": "",
            "collection": "minSeat"
          },
          {
            "func": "GET",
            "collection": "2pSeats",
            "property": "${value}",
            "aggregation": "max",
            "variable": "maxColor"
          },
          {
            "func": "SELECT",
            "source": "2pSeats",
            "property": "${value}",
            "value": "${maxColor}",
            "collection": "maxSeat",
            "max": 1
          },
          {
            "func": "GET",
            "collection": "maxSeat",
            "property": "id",
            "variable": "maxID"
          },
          {
            "func": "SELECT",
            "mode": "remove",
            "property": "id",
            "value": "${maxID}",
            "collection": "minSeat"
          },
          {
            "func": "GET",
            "collection": "minSeat",
            "property": "${value}",
            "variable": "minColor"
          },
          "var diff = ${maxColor} - ${minColor}",
          {
            "func": "IF",
            "operand1": "${diff}",
            "relation": ">=",
            "operand2": 2,
            "thenRoutine": [
              {
                "func": "SELECT",
                "type": "card",
                "property": "_ancestor",
                "relation": "in",
                "value": [
                  "TopHolder-${maxID}",
                  "BottomHolder-${maxID}"
                ],
                "collection": "minusCards"
              },
              {
                "func": "SELECT",
                "source": "minusCards",
                "property": "color",
                "value": "${value}",
                "collection": "minusCards"
              },
              {
                "func": "GET",
                "collection": "minusCards",
                "property": "text",
                "aggregation": "sum",
                "variable": "minusCards"
              },
              "// Remove the points previously calculated for based on the card values for the color and just subtract one point per card",
              {
                "func": "LABEL",
                "label": "Counter-${maxID}",
                "mode": "inc",
                "value": "${minusCards}"
              },
              {
                "func": "LABEL",
                "label": "Counter-${maxID}",
                "mode": "dec",
                "value": "${maxColor}"
              }
            ]
          }
        ]
      }
    ]
  }
}