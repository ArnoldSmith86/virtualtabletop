{
  "title": {
    "id": "title",
    "x": 300,
    "y": -2,
    "height": 60,
    "z": 74,
    "movable": false,
    "movableInEdit": false,
    "css": "font-size: 60px;text-align:center",
    "text": "Holders: Stackable Tokens Demo",
    "width": 1000
  },
  "overview": {
    "id": "overview",
    "x": 108,
    "y": 80,
    "width": 1400,
    "height": 150,
    "layer": -3,
    "z": 129,
    "movable": false,
    "movableInEdit": false,
    "css": "font-size: 24px; ",
    "html": "When holders are set to be movable and to accept other holders as a <b>dropTarget</b>, then holders can have characteristics of cards (because they stack) and holders. This room has several different examples of how this can be implemented. Drag widgets around in this room and stack them to see how this works. Unlike with piles, you can select and drag from the middle of the stack and the rest of the stack moves with it. The &quotmaster&quot holders are the four to the left of this block of text. Do not use them. In a game they should be stored off-screen as the room will crash if the master widgets get sandwhiched between two widgets. Although holders can use <b>image</b> and <b>icon</b> properties, the holders in this demo do not as that would be more complicated for this use of holders."
  },
  "text1": {
    "id": "text1",
    "x": 42,
    "y": 434,
    "width": 300,
    "z": 185,
    "movable": false,
    "movableInEdit": false,
    "css": "font-size: 22px; ",
    "html": "All the stackable widgets in this demo use <b>inheritFrom</b> to copy the master's properties. It is important that the parent property be excluded to prevent problems.<br><br>CSS is used to adjust the style and location of the text.<br><br>Routines (enter, leave, and textChange) are used to update the count on each card.<br><br>You can remove or adjust position of the numbers and you can adjust the offsets to change how the stack forms."
  },
  "text2": {
    "id": "text2",
    "x": 398,
    "y": 514,
    "width": 300,
    "z": 185,
    "movable": false,
    "movableInEdit": false,
    "css": "font-size: 22px; ",
    "html": "This group uses CSS and a URL-encoded SVG to draw a rectangle. The rectangle's color is adjustable and it is shifted to the bottom of the holder so that vertical stacking works.<br><br>The <b>dropTarget</b> allows blue and red to stack together, but that can be changed so that only the same colors stack with each other.<br><br>Again, displaying the numbers are optional and position and stying is adjustable."
  },
  "coin2": {
    "inheritFrom": {
      "coinMaster": "!parent"
    },
    "type": "holder",
    "id": "coin2",
    "x": -1,
    "y": -15,
    "z": 9734,
    "width": 100,
    "height": 80,
    "text": 2,
    "parent": "coin1"
  },
  "coin3": {
    "inheritFrom": {
      "coinMaster": "!parent"
    },
    "type": "holder",
    "id": "coin3",
    "x": -1,
    "y": -15,
    "z": 1258,
    "width": 100,
    "height": 80,
    "parent": "coin2",
    "text": 3
  },
  "coin4": {
    "inheritFrom": {
      "coinMaster": "!parent"
    },
    "type": "holder",
    "id": "coin4",
    "x": -1,
    "y": -15,
    "z": 1260,
    "width": 100,
    "height": 80,
    "parent": "coin3",
    "text": 4
  },
  "coin5": {
    "inheritFrom": {
      "coinMaster": "!parent"
    },
    "type": "holder",
    "id": "coin5",
    "x": -1,
    "y": -15,
    "z": 1262,
    "width": 100,
    "height": 80,
    "parent": "coin4",
    "text": 5
  },
  "coin6": {
    "inheritFrom": {
      "coinMaster": "!parent"
    },
    "type": "holder",
    "id": "coin6",
    "x": -1,
    "y": -15,
    "z": 1264,
    "width": 100,
    "height": 80,
    "parent": "coin5",
    "text": 6
  },
  "circle3": {
    "inheritFrom": {
      "circleMaster": "!parent"
    },
    "type": "holder",
    "id": "circle3",
    "x": -1,
    "y": -25,
    "z": 9737,
    "text": 2,
    "parent": "circle1"
  },
  "circle2": {
    "inheritFrom": {
      "circleMaster": "!parent"
    },
    "type": "holder",
    "id": "circle2",
    "x": -1,
    "y": -25,
    "z": 1208,
    "parent": "circle3",
    "text": 3
  },
  "square2": {
    "inheritFrom": {
      "squareMaster": "!parent"
    },
    "type": "holder",
    "id": "square2",
    "x": 10,
    "y": 10,
    "z": 9743,
    "text": 2,
    "parent": "square1"
  },
  "square3": {
    "inheritFrom": {
      "squareMaster": "!parent"
    },
    "type": "holder",
    "id": "square3",
    "x": 10,
    "y": 10,
    "z": 1103,
    "text": 3,
    "parent": "square2"
  },
  "square4": {
    "inheritFrom": {
      "squareMaster": "!parent"
    },
    "type": "holder",
    "id": "square4",
    "x": 10,
    "y": 10,
    "z": 1070,
    "text": 4,
    "parent": "square3"
  },
  "square9": {
    "inheritFrom": {
      "squareMaster": "!parent"
    },
    "type": "holder",
    "id": "square9",
    "x": 10,
    "y": 10,
    "z": 1072,
    "text": 5,
    "parent": "square4"
  },
  "square8": {
    "inheritFrom": {
      "squareMaster": "!parent"
    },
    "type": "holder",
    "id": "square8",
    "x": 10,
    "y": 10,
    "z": 1108,
    "text": 6,
    "parent": "square9"
  },
  "rectangle20": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle20",
    "x": -1,
    "y": -25,
    "z": 9740,
    "text": 2,
    "parent": "rectangle1"
  },
  "rectangle19": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle19",
    "x": -1,
    "y": -25,
    "z": 1114,
    "parent": "rectangle20",
    "text": 3
  },
  "rectangle18": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle18",
    "x": -1,
    "y": -25,
    "z": 1189,
    "text": 4,
    "parent": "rectangle19"
  },
  "rectangle17": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle17",
    "x": -1,
    "y": -25,
    "z": 1118,
    "parent": "rectangle18",
    "text": 5
  },
  "square7": {
    "inheritFrom": {
      "squareMaster": "!parent"
    },
    "type": "holder",
    "id": "square7",
    "x": 148,
    "y": 285,
    "z": 1110,
    "text": 1
  },
  "square6": {
    "inheritFrom": {
      "squareMaster": "!parent"
    },
    "type": "holder",
    "id": "square6",
    "x": 10,
    "y": 10,
    "z": 1050,
    "parent": "square7",
    "text": 2
  },
  "square5": {
    "inheritFrom": {
      "squareMaster": "!parent"
    },
    "type": "holder",
    "id": "square5",
    "x": 10,
    "y": 10,
    "z": 1052,
    "parent": "square6",
    "text": 3
  },
  "square10": {
    "inheritFrom": {
      "squareMaster": "!parent"
    },
    "type": "holder",
    "id": "square10",
    "x": 10,
    "y": 10,
    "z": 1074,
    "parent": "square5",
    "text": 4
  },
  "rectangle11": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle11",
    "x": 496,
    "y": 343,
    "z": 1177,
    "color": "blue"
  },
  "rectangle10": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle10",
    "x": -1,
    "y": -25,
    "z": 1133,
    "parent": "rectangle11",
    "text": 2,
    "color": "blue"
  },
  "rectangle9": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle9",
    "x": -1,
    "y": -25,
    "z": 1135,
    "parent": "rectangle10",
    "text": 3,
    "color": "blue"
  },
  "rectangle8": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle8",
    "x": -1,
    "y": -25,
    "z": 1137,
    "parent": "rectangle9",
    "text": 4,
    "color": "blue"
  },
  "rectangle13": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle13",
    "x": 606,
    "y": 464,
    "z": 1178,
    "text": 1
  },
  "rectangle12": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle12",
    "x": -1,
    "y": -25,
    "z": 1130,
    "parent": "rectangle13",
    "text": 2
  },
  "rectangle4": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle4",
    "x": -1,
    "y": -25,
    "z": 1165,
    "text": 3,
    "color": "blue",
    "parent": "rectangle12"
  },
  "rectangle3": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle3",
    "x": -1,
    "y": -25,
    "z": 1147,
    "parent": "rectangle4",
    "text": 4,
    "color": "blue"
  },
  "rectangle2": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle2",
    "x": -1,
    "y": -25,
    "z": 1181,
    "text": 5,
    "color": "blue",
    "parent": "rectangle3"
  },
  "rectangle5": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle5",
    "x": -1,
    "y": -25,
    "z": 1167,
    "text": 6,
    "color": "blue",
    "parent": "rectangle2"
  },
  "rectangle6": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle6",
    "x": -1,
    "y": -25,
    "z": 1170,
    "text": 7,
    "color": "blue",
    "parent": "rectangle5"
  },
  "rectangle7": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle7",
    "x": -1,
    "y": -25,
    "z": 1172,
    "text": 8,
    "color": "blue",
    "parent": "rectangle6"
  },
  "rectangle16": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle16",
    "x": 494,
    "y": 463,
    "z": 1176,
    "text": 1
  },
  "rectangle15": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle15",
    "x": -1,
    "y": -25,
    "z": 1122,
    "parent": "rectangle16",
    "text": 2
  },
  "rectangle14": {
    "inheritFrom": {
      "rectangleMaster": "!parent"
    },
    "type": "holder",
    "id": "rectangle14",
    "x": -1,
    "y": -25,
    "z": 1125,
    "parent": "rectangle15",
    "text": 3
  },
  "circle5": {
    "inheritFrom": {
      "circleMaster": "!parent"
    },
    "type": "holder",
    "id": "circle5",
    "x": 797,
    "y": 658,
    "z": 1235,
    "text": 1
  },
  "circle4": {
    "inheritFrom": {
      "circleMaster": "!parent"
    },
    "type": "holder",
    "id": "circle4",
    "x": -1,
    "y": -25,
    "z": 1226,
    "text": 2,
    "parent": "circle5"
  },
  "circle9": {
    "inheritFrom": {
      "circleMaster": "!parent"
    },
    "type": "holder",
    "id": "circle9",
    "x": 916,
    "y": 661,
    "z": 1238,
    "color": "white",
    "dropTarget": {
      "token": "circle",
      "color": "white"
    },
    "text": 1
  },
  "circle10": {
    "inheritFrom": {
      "circleMaster": "!parent"
    },
    "type": "holder",
    "id": "circle10",
    "x": 912,
    "y": 531,
    "z": 1237,
    "color": "white",
    "dropTarget": {
      "token": "circle",
      "color": "white"
    }
  },
  "circle6": {
    "inheritFrom": {
      "circleMaster": "!parent"
    },
    "type": "holder",
    "id": "circle6",
    "x": -1,
    "y": -25,
    "z": 1220,
    "color": "white",
    "dropTarget": {
      "token": "circle",
      "color": "white"
    },
    "parent": "circle10",
    "text": 2
  },
  "circle7": {
    "inheritFrom": {
      "circleMaster": "!parent"
    },
    "type": "holder",
    "id": "circle7",
    "x": -1,
    "y": -25,
    "z": 1214,
    "color": "white",
    "dropTarget": {
      "token": "circle",
      "color": "white"
    },
    "parent": "circle6",
    "text": 3
  },
  "circle8": {
    "inheritFrom": {
      "circleMaster": "!parent"
    },
    "type": "holder",
    "id": "circle8",
    "x": -1,
    "y": -25,
    "z": 1216,
    "color": "white",
    "dropTarget": {
      "token": "circle",
      "color": "white"
    },
    "parent": "circle7",
    "text": 4
  },
  "text3": {
    "id": "text3",
    "x": 778,
    "y": 833,
    "width": 300,
    "z": 185,
    "movable": false,
    "movableInEdit": false,
    "css": "font-size: 22px; ",
    "html": "This group is similar to the rectangles except that the numbers are displayed in a different location and the <b>dropTarget</b> prevents mixing colors."
  },
  "text4": {
    "id": "text4",
    "x": 1178,
    "y": 615,
    "width": 300,
    "z": 185,
    "movable": false,
    "movableInEdit": false,
    "css": "font-size: 22px; ",
    "html": "The SVG is a little more complicated in this holder. So it is represented by a VTT asset and not a URL-encoded SVG. Doing it this way simplifies the JSON, but then it is not possible to adjust the fill or stroke colors.<br><br>This group also uses a transform on the CSS to achieve the desired visual effect for the numbers."
  },
  "coin7": {
    "inheritFrom": {
      "coinMaster": "!parent"
    },
    "type": "holder",
    "id": "coin7",
    "x": 1264,
    "y": 516,
    "z": 1284,
    "width": 100,
    "height": 80,
    "text": 1
  },
  "coin8": {
    "inheritFrom": {
      "coinMaster": "!parent"
    },
    "type": "holder",
    "id": "coin8",
    "x": -1,
    "y": -15,
    "z": 1282,
    "width": 100,
    "height": 80,
    "text": 2,
    "parent": "coin7"
  },
  "coin9": {
    "inheritFrom": {
      "coinMaster": "!parent"
    },
    "type": "holder",
    "id": "coin9",
    "x": -1,
    "y": -15,
    "z": 1280,
    "width": 100,
    "height": 80,
    "text": 3,
    "parent": "coin8"
  },
  "coin10": {
    "inheritFrom": {
      "coinMaster": "!parent"
    },
    "type": "holder",
    "id": "coin10",
    "x": 1384,
    "y": 519,
    "z": 1285,
    "width": 100,
    "height": 80,
    "text": 1
  },
  "coinMaster": {
    "type": "holder",
    "id": "coinMaster",
    "x": 1,
    "y": 211,
    "width": 100,
    "height": 80,
    "z": 1274,
    "movable": true,
    "classes": "transparent",
    "dropLimit": 1,
    "dropOffsetX": -1,
    "dropOffsetY": -15,
    "dropTarget": {
      "token": "coin"
    },
    "text": 1,
    "token": "coin",
    "enterRoutine": [
      "var newCount = ${PROPERTY text} + 1",
      {
        "func": "SET",
        "collection": "child",
        "property": "text",
        "value": "${newCount}"
      }
    ],
    "leaveRoutine": [
      {
        "func": "SET",
        "collection": "child",
        "property": "text",
        "value": 1
      }
    ],
    "textChangeRoutine": [
      {
        "func": "SELECT",
        "property": "parent",
        "value": "${PROPERTY id}"
      },
      {
        "func": "GET",
        "property": "id",
        "variable": "childID"
      },
      "var childCount = ${PROPERTY text} + 1",
      {
        "func": "SET",
        "collection": [
          "${childID}"
        ],
        "property": "text",
        "value": "${childCount}"
      }
    ],
    "css": {
      "default": {
        "background-image": "url('/assets/123241915_760')",
        "background-position-y": "20%"
      },
      " .holderTextOnly": {
        "color": "black",
        "font-size": "26px !important",
        "transform": "translateY(-3px) skewX(20deg)"
      }
    }
  },
  "coin1": {
    "type": "holder",
    "id": "coin1",
    "x": 1133,
    "y": 517,
    "inheritFrom": {
      "coinMaster": "*"
    }
  },
  "circleMaster": {
    "type": "holder",
    "id": "circleMaster",
    "x": 3,
    "y": 116,
    "width": 100,
    "height": 100,
    "z": 1229,
    "movable": true,
    "classes": "transparent",
    "css": {
      "default": {
        "background-image": "url(\"data:image/svg+xml,%3Csvg version='1.2' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' width='100' height='100'%3E%3Cpath fill='${PROPERTY color}' stroke='${PROPERTY outline}' d='m50 99c-27.1 0-49-21.9-49-49 0-27.1 21.9-49 49-49 27.1 0 49 21.9 49 49 0 27.1-21.9 49-49 49z'/%3E%3C/svg%3E\")",
        "background-size": "contain",
        "background-repeat": "no-repeat"
      },
      " .holderTextOnly": {
        "color": "black"
      }
    },
    "dropLimit": 1,
    "dropOffsetX": -1,
    "dropOffsetY": -25,
    "dropTarget": {
      "token": "circle",
      "color": "cyan"
    },
    "color": "cyan",
    "outline": "black",
    "text": 1,
    "token": "circle",
    "enterRoutine": [
      "var newCount = ${PROPERTY text} + 1",
      {
        "func": "SET",
        "collection": "child",
        "property": "text",
        "value": "${newCount}"
      }
    ],
    "leaveRoutine": [
      {
        "func": "SET",
        "collection": "child",
        "property": "text",
        "value": 1
      }
    ],
    "textChangeRoutine": [
      {
        "func": "SELECT",
        "property": "parent",
        "value": "${PROPERTY id}"
      },
      {
        "func": "GET",
        "property": "id",
        "variable": "childID"
      },
      "var childCount = ${PROPERTY text} + 1",
      {
        "func": "SET",
        "collection": [
          "${childID}"
        ],
        "property": "text",
        "value": "${childCount}"
      }
    ]
  },
  "circle1": {
    "type": "holder",
    "id": "circle1",
    "x": 795,
    "y": 527,
    "inheritFrom": {
      "circleMaster": "*"
    }
  },
  "rectangleMaster": {
    "type": "holder",
    "id": "rectangleMaster",
    "y": 66,
    "width": 100,
    "height": 40,
    "borderRadius": 0,
    "z": 1175,
    "movable": true,
    "classes": "transparent",
    "css": {
      "default": {
        "background-image": "url(\"data:image/svg+xml,%3Csvg version='1.2' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 20' width='100' height='20'%3E%3Cpath fill='${PROPERTY color}' d='m0 0h100v20h-100z'/%3E%3C/svg%3E\")",
        "background-repeat": "no-repeat",
        "background-position-y": "100%"
      },
      " .holderTextOnly": {
        "color": "black",
        "top": "-20px",
        "font-size": "16px !important",
        "font-weight": "normal"
      }
    },
    "dropLimit": 1,
    "dropOffsetX": -1,
    "dropOffsetY": -25,
    "dropTarget": {
      "token": "rectangle"
    },
    "color": "red",
    "text": 1,
    "token": "rectangle",
    "enterRoutine": [
      "var newCount = ${PROPERTY text} + 1",
      {
        "func": "SET",
        "collection": "child",
        "property": "text",
        "value": "${newCount}"
      }
    ],
    "leaveRoutine": [
      {
        "func": "SET",
        "collection": "child",
        "property": "text",
        "value": 1
      }
    ],
    "textChangeRoutine": [
      {
        "func": "SELECT",
        "property": "parent",
        "value": "${PROPERTY id}"
      },
      {
        "func": "GET",
        "property": "id",
        "variable": "childID"
      },
      "var childCount = ${PROPERTY text} + 1",
      {
        "func": "SET",
        "collection": [
          "${childID}"
        ],
        "property": "text",
        "value": "${childCount}"
      }
    ],
    "x": 3
  },
  "rectangle1": {
    "type": "holder",
    "id": "rectangle1",
    "x": 386,
    "y": 462,
    "inheritFrom": {
      "rectangleMaster": "*"
    }
  },
  "squareMaster": {
    "type": "holder",
    "id": "squareMaster",
    "x": 26,
    "y": 12,
    "width": 50,
    "height": 50,
    "z": 1107,
    "movable": true,
    "dropOffsetX": 10,
    "dropOffsetY": 10,
    "dropTarget": {
      "token": "square"
    },
    "text": 1,
    "token": "square",
    "enterRoutine": [
      "var newCount = ${PROPERTY text} + 1",
      {
        "func": "SET",
        "collection": "child",
        "property": "text",
        "value": "${newCount}"
      }
    ],
    "leaveRoutine": [
      {
        "func": "SET",
        "collection": "child",
        "property": "text",
        "value": 1
      }
    ],
    "textChangeRoutine": [
      {
        "func": "SELECT",
        "property": "parent",
        "value": "${PROPERTY id}"
      },
      {
        "func": "GET",
        "property": "id",
        "variable": "childID"
      },
      "var childCount = ${PROPERTY text} + 1",
      {
        "func": "SET",
        "collection": [
          "${childID}"
        ],
        "property": "text",
        "value": "${childCount}"
      }
    ],
    "css": {
      "default": {
        "border": "1px solid black",
        "font-size": "8px"
      },
      " .holderTextOnly": {
        "color": "black",
        "top": "-20px",
        "left": "-20px",
        "font-size": "16px !important"
      }
    },
    "color": "mediumseagreen"
  },
  "square1": {
    "type": "holder",
    "id": "square1",
    "x": 58,
    "y": 292,
    "inheritFrom": {
      "squareMaster": "*"
    }
  },
  "_meta": {
    "version": 21,
    "gameSettings": {
      "legacyModes": {}
    },
    "info": {
      "name": "Types - Holder",
      "image": "/assets/-1144102332_4316",
      "rules": "",
      "bgg": "",
      "year": "2020",
      "mode": "Tutorial",
      "time": "0",
      "attribution": "The coin in the Stackable Tokens variant is a modification of an icon by Delapoitue, available under CC BY 3.0 from&nbsp;https://game-icons.net/1x1/delapouite/token.html.",
      "showName": false,
      "lastUpdate": 1770832868975,
      "skill": "",
      "description": "",
      "similarImage": "",
      "similarName": "",
      "similarAwards": "",
      "ruleText": "",
      "helpText": "",
      "similarDesigner": "",
      "usesAIImagery": false,
      "variantImage": "",
      "variant": "Stackable Tokens Demo",
      "language": "en-US",
      "players": "1"
    }
  }
}